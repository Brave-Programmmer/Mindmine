import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.B7y88wuR.js";import{m as f,a as b}from"./firebase.Dme28GWg.js";import{u as i}from"./authStore.CYTjUqjB.js";const k=()=>{const a=i(o=>o.displayName),c=i(o=>o.email),x=i(o=>o.isAuthenticated),p=i(o=>o.resetUser),[t,h]=d.useState(!1),[l,u]=d.useState(!1),[n,r]=d.useState(!1),m=async()=>{try{await f(b),p(),window.location.href="/login"}catch(o){console.error("Error signing out:",o)}},s=()=>{h(!1),u(!1),r(!1)};return e.jsxs("header",{className:"fixed top-4 left-4 right-4 z-50",children:[e.jsx("nav",{className:"container mx-auto bg-white/40 backdrop-blur-md rounded-2xl shadow-lg px-6 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center w-full md:w-auto",children:[e.jsx("a",{href:"/",className:"text-2xl font-extrabold text-rosewood hover:text-sienna transition-colors",children:"Livre"}),e.jsx("button",{onClick:()=>h(!t),className:"md:hidden text-rosewood hover:text-sienna transition-colors p-2 focus:outline-none focus:ring-2 focus:ring-rosewood rounded","aria-label":"Toggle menu","aria-expanded":t,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8 relative",children:[e.jsx("a",{href:"/books",className:"text-rosewood font-medium hover:text-sienna transition-colors",children:"Books"}),e.jsx("a",{href:"/authors",className:"text-rosewood font-medium hover:text-sienna transition-colors",children:"Authors"}),x?e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-rosewood font-semibold hover:text-sienna transition-colors focus:outline-none focus:ring-2 focus:ring-rosewood rounded","aria-haspopup":"true","aria-expanded":n,children:[e.jsx("span",{children:a||"Profile"}),e.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${n?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),e.jsxs("div",{className:`absolute right-0 mt-2 w-48 bg-blush rounded-lg shadow-lg overflow-hidden transition-max-height duration-300 ${n?"max-h-56 opacity-100":"max-h-0 opacity-0 pointer-events-none"}`,style:{boxShadow:"0 4px 10px rgba(195, 108, 93, 0.3)"},children:[e.jsxs("div",{className:"px-4 py-3 border-b border-peach",children:[e.jsx("p",{className:"font-semibold text-rosewood truncate",children:a||"User"}),e.jsx("p",{className:"text-sm text-sienna truncate",children:c||"No Email"})]}),e.jsx("a",{href:"/write",className:"block px-4 py-2 text-rosewood hover:bg-peach transition-colors",onClick:()=>r(!1),children:"Write"}),e.jsx("button",{onClick:()=>{m(),r(!1)},className:"w-full text-left px-4 py-2 text-rosewood hover:bg-peach transition-colors",children:"Logout"})]})]}):e.jsx("a",{href:"/login",className:"bg-rosewood/90 text-white px-5 py-2 rounded-full hover:bg-sienna transition-colors font-semibold",children:"Login"})]})]})}),e.jsx("div",{onClick:s,className:`fixed inset-0 bg-blush/90 backdrop-blur-sm transition-opacity duration-300 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"} md:hidden`}),e.jsxs("aside",{className:`fixed top-0 bottom-0 left-0 w-64 bg-blush backdrop-blur-md shadow-lg transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          md:hidden
        `,children:[e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-mauve/50",children:[e.jsx("a",{href:"/",className:"text-xl font-bold text-rosewood hover:text-sienna transition-colors",onClick:s,children:"Livre"}),e.jsx("button",{onClick:s,"aria-label":"Close menu",className:"text-rosewood hover:text-sienna p-2 focus:outline-none focus:ring-2 focus:ring-rosewood rounded",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"flex flex-col text-rosewood px-6 py-6 space-y-6",children:[e.jsx("a",{href:"/books",className:"hover:bg-peach rounded-md px-3 py-2 transition-colors font-medium",onClick:s,children:"Books"}),e.jsx("a",{href:"/authors",className:"hover:bg-peach rounded-md px-3 py-2 transition-colors font-medium",onClick:s,children:"Authors"}),x?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>u(!l),className:"w-full flex justify-between items-center hover:bg-peach rounded-md px-3 py-2 transition-colors font-semibold focus:outline-none focus:ring-2 focus:ring-rosewood rounded",children:[e.jsxs("div",{children:[e.jsx("p",{children:a||"Profile"}),e.jsx("p",{className:"text-xs text-sienna truncate max-w-[180px]",children:c||"No Email"})]}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-300 ${l?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),e.jsxs("div",{style:{maxHeight:l?"120px":"0px",transition:"max-height 0.3s ease",overflow:"hidden"},className:"flex flex-col space-y-3 mt-3",children:[e.jsx("a",{href:"/write",className:"pl-4 hover:bg-peach rounded-md px-3 py-2 transition-colors font-medium",onClick:s,children:"Write"}),e.jsx("button",{onClick:()=>{m(),s()},className:"pl-4 bg-sienna hover:bg-blush hover:text-sienna text-white rounded-md px-3 py-2 transition-colors text-left font-semibold",children:"Logout"})]})]}):e.jsx("a",{href:"/login",className:"bg-sienna text-white rounded-md px-4 py-2 text-center hover:bg-blush hover:text-sienna transition-colors font-semibold",onClick:s,children:"Login"})]})]})]})};export{k as Navbar};
